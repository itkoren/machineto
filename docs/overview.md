Generates a finite state machine.
States can be defined, transitions to these states can be performed and parameters to the actions can be passed.